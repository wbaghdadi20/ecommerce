[debug] [2024-07-12T00:41:28.303Z] ----------------------------------------------------------------------
[debug] [2024-07-12T00:41:28.305Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\wbagh\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2024-07-12T00:41:28.305Z] CLI Version:   13.13.2
[debug] [2024-07-12T00:41:28.305Z] Platform:      win32
[debug] [2024-07-12T00:41:28.305Z] Node Version:  v20.13.1
[debug] [2024-07-12T00:41:28.306Z] Time:          Thu Jul 11 2024 17:41:28 GMT-0700 (Pacific Daylight Time)
[debug] [2024-07-12T00:41:28.306Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-12T00:41:28.412Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-12T00:41:28.412Z] > authorizing via signed-in user (wbaghdadi5@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2024-07-12T00:41:28.424Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-12T00:41:28.424Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-12T00:41:28.424Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-07-12T00:41:28.429Z] [hub] writing locator at C:\Users\wbagh\AppData\Local\Temp\hub-clone-c002b.json
[debug] [2024-07-12T00:41:28.447Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-12T00:41:28.448Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-07-12T00:41:28.449Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-07-12T00:41:28.458Z] defaultcredentials: writing to file C:\Users\wbagh\AppData\Roaming\firebase\wbaghdadi5_gmail_com_application_default_credentials.json
[debug] [2024-07-12T00:41:28.464Z] Setting GAC to C:\Users\wbagh\AppData\Roaming\firebase\wbaghdadi5_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\wbagh\\AppData\\Roaming\\firebase\\wbaghdadi5_gmail_com_application_default_credentials.json"}}
[debug] [2024-07-12T00:41:28.467Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/adminSdkConfig [none]
[debug] [2024-07-12T00:41:28.762Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/adminSdkConfig 200
[debug] [2024-07-12T00:41:28.762Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/adminSdkConfig {"projectId":"clone-c002b","storageBucket":"clone-c002b.appspot.com"}
[debug] [2024-07-12T00:41:28.770Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-c002b/sites 
[debug] [2024-07-12T00:41:29.405Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-c002b/sites 200
[debug] [2024-07-12T00:41:29.406Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-c002b/sites {"sites":[{"name":"projects/clone-c002b/sites/clone-c002b","defaultUrl":"https://clone-c002b.web.app","appId":"1:234088740060:web:71c89f44e2e3e10523f019","type":"DEFAULT_SITE"}]}
[debug] [2024-07-12T00:41:29.406Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/webApps/1:234088740060:web:71c89f44e2e3e10523f019/config [none]
[debug] [2024-07-12T00:41:29.913Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/webApps/1:234088740060:web:71c89f44e2e3e10523f019/config 200
[debug] [2024-07-12T00:41:29.913Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b/webApps/1:234088740060:web:71c89f44e2e3e10523f019/config {"projectId":"clone-c002b","appId":"1:234088740060:web:71c89f44e2e3e10523f019","storageBucket":"clone-c002b.appspot.com","apiKey":"AIzaSyBi_YeAGKl52nZ-L1_5noyj__2DxWmIlEo","authDomain":"clone-c002b.firebaseapp.com","messagingSenderId":"234088740060","measurementId":"G-6P8DT0EG07"}
[debug] [2024-07-12T00:41:29.918Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b [none]
[debug] [2024-07-12T00:41:30.083Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b 200
[debug] [2024-07-12T00:41:30.083Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-c002b {"projectId":"clone-c002b","projectNumber":"234088740060","displayName":"Amazon-Clone","name":"projects/clone-c002b","resources":{"hostingSite":"clone-c002b"},"state":"ACTIVE","etag":"1_ba89eb8f-c23d-4176-b3b2-5db84d564171"}
[info] i  hosting[clone-c002b]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[clone-c002b]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.12.1.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.12.1.zip..."}}
[debug] [2024-07-12T00:41:30.102Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.12.1.zip 
[debug] [2024-07-12T00:41:30.335Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.12.1.zip 200
[debug] [2024-07-12T00:41:30.335Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.12.1.zip [stream]
[debug] [2024-07-12T00:41:30.816Z] Data is 3498269
[debug] [2024-07-12T00:41:30.816Z] [unzip] Entry: client/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.816Z] [unzip] Processing entry: client\
[debug] [2024-07-12T00:41:30.817Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\
[debug] [2024-07-12T00:41:30.817Z] [unzip] Entry: client/favicon.ico (compressed_size=2933 bytes, uncompressed_size=13294 bytes)
[debug] [2024-07-12T00:41:30.818Z] [unzip] Processing entry: client\favicon.ico
[debug] [2024-07-12T00:41:30.818Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.818Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\favicon.ico
[debug] [2024-07-12T00:41:30.821Z] [unzip] Entry: client/mstile-150x150.png (compressed_size=2034 bytes, uncompressed_size=2034 bytes)
[debug] [2024-07-12T00:41:30.821Z] [unzip] Processing entry: client\mstile-150x150.png
[debug] [2024-07-12T00:41:30.821Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.821Z] [unzip] Writing file: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\mstile-150x150.png
[debug] [2024-07-12T00:41:30.822Z] [unzip] Entry: client/favicon-16x16.png (compressed_size=293 bytes, uncompressed_size=293 bytes)
[debug] [2024-07-12T00:41:30.822Z] [unzip] Processing entry: client\favicon-16x16.png
[debug] [2024-07-12T00:41:30.822Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.822Z] [unzip] Writing file: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\favicon-16x16.png
[debug] [2024-07-12T00:41:30.823Z] [unzip] Entry: client/favicon-32x32.png (compressed_size=475 bytes, uncompressed_size=475 bytes)
[debug] [2024-07-12T00:41:30.823Z] [unzip] Processing entry: client\favicon-32x32.png
[debug] [2024-07-12T00:41:30.823Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.824Z] [unzip] Writing file: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\favicon-32x32.png
[debug] [2024-07-12T00:41:30.825Z] [unzip] Entry: client/manifest.json (compressed_size=245 bytes, uncompressed_size=551 bytes)
[debug] [2024-07-12T00:41:30.825Z] [unzip] Processing entry: client\manifest.json
[debug] [2024-07-12T00:41:30.825Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.825Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\manifest.json
[debug] [2024-07-12T00:41:30.827Z] [unzip] Entry: client/index.html (compressed_size=1365 bytes, uncompressed_size=3071 bytes)
[debug] [2024-07-12T00:41:30.827Z] [unzip] Processing entry: client\index.html
[debug] [2024-07-12T00:41:30.827Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.828Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\index.html
[debug] [2024-07-12T00:41:30.830Z] [unzip] Entry: client/robots.txt (compressed_size=26 bytes, uncompressed_size=26 bytes)
[debug] [2024-07-12T00:41:30.830Z] [unzip] Processing entry: client\robots.txt
[debug] [2024-07-12T00:41:30.830Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.830Z] [unzip] Writing file: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\robots.txt
[debug] [2024-07-12T00:41:30.831Z] [unzip] Entry: client/android-chrome-512x512.png (compressed_size=5369 bytes, uncompressed_size=5411 bytes)
[debug] [2024-07-12T00:41:30.831Z] [unzip] Processing entry: client\android-chrome-512x512.png
[debug] [2024-07-12T00:41:30.831Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.832Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\android-chrome-512x512.png
[debug] [2024-07-12T00:41:30.833Z] [unzip] Entry: client/assets/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.833Z] [unzip] Processing entry: client\assets\
[debug] [2024-07-12T00:41:30.833Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\
[debug] [2024-07-12T00:41:30.833Z] [unzip] Entry: client/assets/img/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.833Z] [unzip] Processing entry: client\assets\img\
[debug] [2024-07-12T00:41:30.833Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\img\
[debug] [2024-07-12T00:41:30.833Z] [unzip] Entry: client/assets/img/database.png (compressed_size=29449 bytes, uncompressed_size=29988 bytes)
[debug] [2024-07-12T00:41:30.833Z] [unzip] Processing entry: client\assets\img\database.png
[debug] [2024-07-12T00:41:30.833Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\img
[debug] [2024-07-12T00:41:30.834Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\img\database.png
[debug] [2024-07-12T00:41:30.835Z] [unzip] Entry: client/assets/provider-icons/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.835Z] [unzip] Processing entry: client\assets\provider-icons\
[debug] [2024-07-12T00:41:30.835Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\
[debug] [2024-07-12T00:41:30.835Z] [unzip] Entry: client/assets/provider-icons/auth_service_play_games.svg (compressed_size=565 bytes, uncompressed_size=1173 bytes)
[debug] [2024-07-12T00:41:30.835Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_play_games.svg
[debug] [2024-07-12T00:41:30.835Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.835Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_play_games.svg
[debug] [2024-07-12T00:41:30.836Z] [unzip] Entry: client/assets/provider-icons/auth_service_game_center.svg (compressed_size=991 bytes, uncompressed_size=3921 bytes)
[debug] [2024-07-12T00:41:30.836Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_game_center.svg
[debug] [2024-07-12T00:41:30.836Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.837Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_game_center.svg
[debug] [2024-07-12T00:41:30.837Z] [unzip] Entry: client/assets/provider-icons/auth_service_google.svg (compressed_size=409 bytes, uncompressed_size=720 bytes)
[debug] [2024-07-12T00:41:30.837Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_google.svg
[debug] [2024-07-12T00:41:30.837Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.838Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_google.svg
[debug] [2024-07-12T00:41:30.839Z] [unzip] Entry: client/assets/provider-icons/auth_service_yahoo.svg (compressed_size=577 bytes, uncompressed_size=1182 bytes)
[debug] [2024-07-12T00:41:30.839Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_yahoo.svg
[debug] [2024-07-12T00:41:30.839Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.839Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_yahoo.svg
[debug] [2024-07-12T00:41:30.841Z] [unzip] Entry: client/assets/provider-icons/auth_service_email.svg (compressed_size=228 bytes, uncompressed_size=326 bytes)
[debug] [2024-07-12T00:41:30.841Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_email.svg
[debug] [2024-07-12T00:41:30.841Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.842Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_email.svg
[debug] [2024-07-12T00:41:30.843Z] [unzip] Entry: client/assets/provider-icons/auth_service_saml.svg (compressed_size=575 bytes, uncompressed_size=1226 bytes)
[debug] [2024-07-12T00:41:30.843Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_saml.svg
[debug] [2024-07-12T00:41:30.843Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.844Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_saml.svg
[debug] [2024-07-12T00:41:30.845Z] [unzip] Entry: client/assets/provider-icons/auth_service_oidc.svg (compressed_size=414 bytes, uncompressed_size=858 bytes)
[debug] [2024-07-12T00:41:30.845Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_oidc.svg
[debug] [2024-07-12T00:41:30.845Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.846Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_oidc.svg
[debug] [2024-07-12T00:41:30.848Z] [unzip] Entry: client/assets/provider-icons/auth_service_facebook.svg (compressed_size=289 bytes, uncompressed_size=457 bytes)
[debug] [2024-07-12T00:41:30.848Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_facebook.svg
[debug] [2024-07-12T00:41:30.848Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.848Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_facebook.svg
[debug] [2024-07-12T00:41:30.850Z] [unzip] Entry: client/assets/provider-icons/auth_service_github.svg (compressed_size=466 bytes, uncompressed_size=838 bytes)
[debug] [2024-07-12T00:41:30.850Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_github.svg
[debug] [2024-07-12T00:41:30.850Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.850Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_github.svg
[debug] [2024-07-12T00:41:30.851Z] [unzip] Entry: client/assets/provider-icons/auth_service_phone.svg (compressed_size=261 bytes, uncompressed_size=414 bytes)
[debug] [2024-07-12T00:41:30.851Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_phone.svg
[debug] [2024-07-12T00:41:30.851Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.851Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_phone.svg
[debug] [2024-07-12T00:41:30.852Z] [unzip] Entry: client/assets/provider-icons/auth_service_apple.svg (compressed_size=230 bytes, uncompressed_size=334 bytes)
[debug] [2024-07-12T00:41:30.852Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_apple.svg
[debug] [2024-07-12T00:41:30.852Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.852Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_apple.svg
[debug] [2024-07-12T00:41:30.853Z] [unzip] Entry: client/assets/provider-icons/auth_service_twitter.svg (compressed_size=444 bytes, uncompressed_size=751 bytes)
[debug] [2024-07-12T00:41:30.853Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_twitter.svg
[debug] [2024-07-12T00:41:30.853Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.854Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_twitter.svg
[debug] [2024-07-12T00:41:30.855Z] [unzip] Entry: client/assets/provider-icons/auth_service_mslive.svg (compressed_size=203 bytes, uncompressed_size=378 bytes)
[debug] [2024-07-12T00:41:30.855Z] [unzip] Processing entry: client\assets\provider-icons\auth_service_mslive.svg
[debug] [2024-07-12T00:41:30.856Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons
[debug] [2024-07-12T00:41:30.856Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\provider-icons\auth_service_mslive.svg
[debug] [2024-07-12T00:41:30.858Z] [unzip] Entry: client/assets/extensions/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.859Z] [unzip] Processing entry: client\assets\extensions\
[debug] [2024-07-12T00:41:30.859Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\extensions\
[debug] [2024-07-12T00:41:30.859Z] [unzip] Entry: client/assets/extensions/default-extension.png (compressed_size=1646 bytes, uncompressed_size=1657 bytes)
[debug] [2024-07-12T00:41:30.859Z] [unzip] Processing entry: client\assets\extensions\default-extension.png
[debug] [2024-07-12T00:41:30.859Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\extensions
[debug] [2024-07-12T00:41:30.860Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\extensions\default-extension.png
[debug] [2024-07-12T00:41:30.861Z] [unzip] Entry: client/assets/index-Cj5I7867.css (compressed_size=35786 bytes, uncompressed_size=297937 bytes)
[debug] [2024-07-12T00:41:30.861Z] [unzip] Processing entry: client\assets\index-Cj5I7867.css
[debug] [2024-07-12T00:41:30.862Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets
[debug] [2024-07-12T00:41:30.862Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\index-Cj5I7867.css
[debug] [2024-07-12T00:41:30.865Z] [unzip] Entry: client/assets/index-JXEx31eZ.js (compressed_size=563896 bytes, uncompressed_size=2020866 bytes)
[debug] [2024-07-12T00:41:30.865Z] [unzip] Processing entry: client\assets\index-JXEx31eZ.js
[debug] [2024-07-12T00:41:30.865Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets
[debug] [2024-07-12T00:41:30.865Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\index-JXEx31eZ.js
[debug] [2024-07-12T00:41:30.875Z] [unzip] Entry: client/assets/index-JXEx31eZ.js.map (compressed_size=2229196 bytes, uncompressed_size=9596104 bytes)
[debug] [2024-07-12T00:41:30.875Z] [unzip] Processing entry: client\assets\index-JXEx31eZ.js.map
[debug] [2024-07-12T00:41:30.875Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets
[debug] [2024-07-12T00:41:30.876Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\assets\index-JXEx31eZ.js.map
[debug] [2024-07-12T00:41:30.911Z] [unzip] Entry: client/safari-pinned-tab.svg (compressed_size=1433 bytes, uncompressed_size=2611 bytes)
[debug] [2024-07-12T00:41:30.911Z] [unzip] Processing entry: client\safari-pinned-tab.svg
[debug] [2024-07-12T00:41:30.911Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.911Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\safari-pinned-tab.svg
[debug] [2024-07-12T00:41:30.912Z] [unzip] Entry: client/browserconfig.xml (compressed_size=491 bytes, uncompressed_size=822 bytes)
[debug] [2024-07-12T00:41:30.912Z] [unzip] Processing entry: client\browserconfig.xml
[debug] [2024-07-12T00:41:30.912Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.912Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\browserconfig.xml
[debug] [2024-07-12T00:41:30.913Z] [unzip] Entry: client/android-chrome-192x192.png (compressed_size=2684 bytes, uncompressed_size=2684 bytes)
[debug] [2024-07-12T00:41:30.913Z] [unzip] Processing entry: client\android-chrome-192x192.png
[debug] [2024-07-12T00:41:30.913Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.913Z] [unzip] Writing file: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\android-chrome-192x192.png
[debug] [2024-07-12T00:41:30.913Z] [unzip] Entry: client/apple-touch-icon.png (compressed_size=2123 bytes, uncompressed_size=2152 bytes)
[debug] [2024-07-12T00:41:30.914Z] [unzip] Processing entry: client\apple-touch-icon.png
[debug] [2024-07-12T00:41:30.914Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client
[debug] [2024-07-12T00:41:30.914Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\client\apple-touch-icon.png
[debug] [2024-07-12T00:41:30.914Z] [unzip] Entry: server/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.914Z] [unzip] Processing entry: server\
[debug] [2024-07-12T00:41:30.914Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\
[debug] [2024-07-12T00:41:30.915Z] [unzip] Entry: server/server.mjs.map (compressed_size=286219 bytes, uncompressed_size=1310517 bytes)
[debug] [2024-07-12T00:41:30.915Z] [unzip] Processing entry: server\server.mjs.map
[debug] [2024-07-12T00:41:30.915Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server
[debug] [2024-07-12T00:41:30.915Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\server.mjs.map
[debug] [2024-07-12T00:41:30.920Z] [unzip] Entry: server/assets/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2024-07-12T00:41:30.920Z] [unzip] Processing entry: server\assets\
[debug] [2024-07-12T00:41:30.920Z] [unzip] mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\assets\
[debug] [2024-07-12T00:41:30.920Z] [unzip] Entry: server/assets/multipart-parser-n20ATYm_.mjs.map (compressed_size=4790 bytes, uncompressed_size=17920 bytes)
[debug] [2024-07-12T00:41:30.920Z] [unzip] Processing entry: server\assets\multipart-parser-n20ATYm_.mjs.map
[debug] [2024-07-12T00:41:30.920Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\assets
[debug] [2024-07-12T00:41:30.920Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\assets\multipart-parser-n20ATYm_.mjs.map
[debug] [2024-07-12T00:41:30.921Z] [unzip] Entry: server/assets/multipart-parser-n20ATYm_.mjs (compressed_size=2625 bytes, uncompressed_size=10428 bytes)
[debug] [2024-07-12T00:41:30.921Z] [unzip] Processing entry: server\assets\multipart-parser-n20ATYm_.mjs
[debug] [2024-07-12T00:41:30.921Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\assets
[debug] [2024-07-12T00:41:30.922Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\assets\multipart-parser-n20ATYm_.mjs
[debug] [2024-07-12T00:41:30.923Z] [unzip] Entry: server/server.mjs (compressed_size=311497 bytes, uncompressed_size=1147307 bytes)
[debug] [2024-07-12T00:41:30.923Z] [unzip] Processing entry: server\server.mjs
[debug] [2024-07-12T00:41:30.923Z] [unzip] else mkdir: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server
[debug] [2024-07-12T00:41:30.923Z] [unzip] deflating: C:\Users\wbagh\.cache\firebase\emulators\ui-v1.12.1\server\server.mjs
[debug] [2024-07-12T00:41:30.929Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-07-12T00:41:30.929Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-07-12T00:41:30.929Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\wbagh\\.cache\\firebase\\emulators\\ui-v1.12.1\\server\\server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\wbagh\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.12.1\\\\server\\\\server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-07-12T00:41:31.043Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-07-12T00:41:31.043Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\" for Cloud Functions..."}}
[debug] [2024-07-12T00:41:31.149Z] Validating nodejs source
[debug] [2024-07-12T00:41:32.000Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:41:32.000Z] Building nodejs source
[debug] [2024-07-12T00:41:32.001Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:41:32.002Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:41:32.008Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8209

[debug] [2024-07-12T00:41:32.590Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/clone-c002b/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/clone-c002b/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-07-12T00:42:21.259Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:42:22.268Z] Validating nodejs source
[debug] [2024-07-12T00:42:23.083Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:23.083Z] Building nodejs source
[debug] [2024-07-12T00:42:23.083Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:23.085Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:23.089Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8196

[debug] [2024-07-12T00:42:23.631Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:42:29.628Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:42:30.636Z] Validating nodejs source
[debug] [2024-07-12T00:42:31.659Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:31.659Z] Building nodejs source
[debug] [2024-07-12T00:42:31.659Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:31.660Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:31.664Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8867

[debug] [2024-07-12T00:42:32.193Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:42:39.989Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:42:40.991Z] Validating nodejs source
[debug] [2024-07-12T00:42:41.868Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:41.869Z] Building nodejs source
[debug] [2024-07-12T00:42:41.869Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:41.873Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:41.880Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8555

[debug] [2024-07-12T00:42:42.429Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:42:44.468Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:42:45.471Z] Validating nodejs source
[debug] [2024-07-12T00:42:46.651Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:46.651Z] Building nodejs source
[debug] [2024-07-12T00:42:46.651Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:46.652Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:46.657Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:42:46.829Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8991

[debug] [2024-07-12T00:42:47.212Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:42:47.835Z] Validating nodejs source
[debug] [2024-07-12T00:42:48.731Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:48.731Z] Building nodejs source
[debug] [2024-07-12T00:42:48.731Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:48.734Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:48.737Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8343

[debug] [2024-07-12T00:42:49.305Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:42:51.023Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:42:51.522Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:42:52.527Z] Validating nodejs source
[debug] [2024-07-12T00:42:53.396Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:42:53.397Z] Building nodejs source
[debug] [2024-07-12T00:42:53.397Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:42:53.398Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:42:53.401Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8036

[debug] [2024-07-12T00:42:54.008Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:43:12.575Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api-2024-07-12T00:43:12.575Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T00:43:12.577Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api-2024-07-12T00:43:12.575Z"],"workRunningCount":1}
[debug] [2024-07-12T00:43:12.579Z] Accepted request GET /clone-c002b/us-central1/api --> us-central1-api
[debug] [2024-07-12T00:43:12.586Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T00:43:12.587Z] [functions] Got req.url=/clone-c002b/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api, mapping to path=/"}}
[debug] [2024-07-12T00:43:12.609Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T00:43:12.610Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T00:43:13.690Z] [runtime-status] [18276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.691Z] [runtime-status] [18276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.692Z] [runtime-status] [18276] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T00:43:13.693Z] [runtime-status] [18276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.952Z] [runtime-status] [18276] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T00:43:13.953Z] [runtime-status] [18276] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T00:43:13.953Z] [runtime-status] [18276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.954Z] [runtime-status] [18276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.957Z] [runtime-status] [18276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:43:13.958Z] [runtime-status] [18276] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T00:43:14.149Z] [runtime-status] [18276] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T00:43:14.149Z] [runtime-status] [18276] Listening to port: \\?\pipe\fire_emu_9756df5e2e4c576c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18276] Listening to port: \\\\?\\pipe\\fire_emu_9756df5e2e4c576c"}}
[debug] [2024-07-12T00:43:14.232Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: IDLE"}}
[debug] [2024-07-12T00:43:14.232Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T00:43:14.233Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: BUSY"}}
[debug] [2024-07-12T00:43:14.237Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.4424ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.4424ms"}}
[debug] [2024-07-12T00:43:14.238Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: IDLE"}}
[debug] [2024-07-12T00:43:14.238Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T00:43:14.239Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T00:43:14.239Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T00:43:14.449Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2024-07-12T00:43:59.268Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:00.270Z] Validating nodejs source
[debug] [2024-07-12T00:44:01.237Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:01.237Z] Building nodejs source
[debug] [2024-07-12T00:44:01.237Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:01.239Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:01.243Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8636

[debug] [2024-07-12T00:44:01.816Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:02.330Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:03.346Z] Validating nodejs source
[debug] [2024-07-12T00:44:04.135Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:04.135Z] Building nodejs source
[debug] [2024-07-12T00:44:04.135Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:04.137Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:04.141Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8124

[debug] [2024-07-12T00:44:04.751Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:05.187Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:06.191Z] Validating nodejs source
[debug] [2024-07-12T00:44:07.020Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:07.020Z] Building nodejs source
[debug] [2024-07-12T00:44:07.020Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:07.022Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:07.026Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:07.033Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2024-07-12T00:44:07.033Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: FINISHING"}}
[debug] [2024-07-12T00:44:07.055Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: exited"}}
[debug] [2024-07-12T00:44:07.055Z] [worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-68436730-67c7-43ca-913e-e80413a0c860]: FINISHED"}}
[info] Serving at port 8673

[debug] [2024-07-12T00:44:07.557Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:10.164Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:11.168Z] Validating nodejs source
[debug] [2024-07-12T00:44:12.719Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:12.720Z] Building nodejs source
[debug] [2024-07-12T00:44:12.721Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:12.727Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:12.735Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8346

[debug] [2024-07-12T00:44:13.422Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:14.050Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:14.432Z] Validating nodejs source
[debug] [2024-07-12T00:44:16.091Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:16.091Z] Building nodejs source
[debug] [2024-07-12T00:44:16.092Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:16.093Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:16.099Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8050

[debug] [2024-07-12T00:44:17.234Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:17.794Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/zenje-2024-07-12T00:44:17.794Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T00:44:17.794Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/zenje-2024-07-12T00:44:17.794Z"],"workRunningCount":1}
[debug] [2024-07-12T00:44:17.794Z] Accepted request GET /clone-c002b/us-central1/api/zenje --> us-central1-api
[debug] [2024-07-12T00:44:17.796Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T00:44:17.796Z] [functions] Got req.url=/clone-c002b/us-central1/api/zenje, mapping to path=/zenje {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/zenje, mapping to path=/zenje"}}
[debug] [2024-07-12T00:44:17.797Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T00:44:17.804Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T00:44:17.805Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:19.363Z] [runtime-status] [46920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.365Z] [runtime-status] [46920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.366Z] [runtime-status] [46920] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T00:44:19.368Z] [runtime-status] [46920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.703Z] [runtime-status] [46920] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T00:44:19.704Z] [runtime-status] [46920] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T00:44:19.704Z] [runtime-status] [46920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.706Z] [runtime-status] [46920] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.709Z] [runtime-status] [46920] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:44:19.710Z] [runtime-status] [46920] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T00:44:19.962Z] [runtime-status] [46920] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T00:44:19.963Z] [runtime-status] [46920] Listening to port: \\?\pipe\fire_emu_ab82ed9bae28c41b {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46920] Listening to port: \\\\?\\pipe\\fire_emu_ab82ed9bae28c41b"}}
[debug] [2024-07-12T00:44:19.971Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: IDLE"}}
[debug] [2024-07-12T00:44:19.971Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T00:44:19.972Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: BUSY"}}
[debug] [2024-07-12T00:44:19.987Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 15.825ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 15.825ms"}}
[debug] [2024-07-12T00:44:19.989Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: IDLE"}}
[debug] [2024-07-12T00:44:19.989Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T00:44:19.990Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T00:44:19.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:22.259Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2024-07-12T00:44:22.259Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: FINISHING"}}
[debug] [2024-07-12T00:44:22.269Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: exited"}}
[debug] [2024-07-12T00:44:22.269Z] [worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ee30a77-ba72-4eb0-9546-242ad39403bb]: FINISHED"}}
[debug] [2024-07-12T00:44:30.808Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:31.815Z] Validating nodejs source
[debug] [2024-07-12T00:44:33.637Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:33.637Z] Building nodejs source
[debug] [2024-07-12T00:44:33.638Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:33.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:33.650Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:44:33.662Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8869

[debug] [2024-07-12T00:44:34.668Z] Validating nodejs source
[debug] [2024-07-12T00:44:36.078Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:36.079Z] Building nodejs source
[debug] [2024-07-12T00:44:36.079Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:36.081Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:36.086Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:36.092Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8604

[debug] [2024-07-12T00:44:37.114Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:41.575Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:44:42.591Z] Validating nodejs source
[debug] [2024-07-12T00:44:43.639Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:43.639Z] Building nodejs source
[debug] [2024-07-12T00:44:43.639Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:43.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:43.646Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8667

[error] TypeError: Cannot read properties of undefined (reading 'length')
    at pathtoRegexp (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\path-to-regexp\index.js:63:49)
    at new Layer (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:45:17)
    at Function.route (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:505:15)
    at app.<computed> [as post] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\application.js:498:30)
    at Object.<anonymous> (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:20:5)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)

[debug] [2024-07-12T00:44:44.634Z] Got response code 400; body Failed to generate manifest from function source: TypeError: Cannot read properties of undefined (reading 'length')
[debug] [2024-07-12T00:44:48.766Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T00:44:49.767Z] Validating nodejs source
[debug] [2024-07-12T00:44:51.170Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:51.170Z] Building nodejs source
[debug] [2024-07-12T00:44:51.170Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:51.172Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:51.180Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8259

[debug] [2024-07-12T00:44:52.949Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:44:53.593Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:44:54.596Z] Validating nodejs source
[debug] [2024-07-12T00:44:56.288Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:56.289Z] Building nodejs source
[debug] [2024-07-12T00:44:56.289Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:56.294Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:56.301Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:44:56.312Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8356

[debug] [2024-07-12T00:44:57.324Z] Validating nodejs source
[debug] [2024-07-12T00:44:59.104Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:44:59.105Z] Building nodejs source
[debug] [2024-07-12T00:44:59.105Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:44:59.107Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:44:59.113Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:44:59.120Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8246

[debug] [2024-07-12T00:45:00.125Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:45:28.310Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:45:29.325Z] Validating nodejs source
[debug] [2024-07-12T00:45:30.244Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:45:30.244Z] Building nodejs source
[debug] [2024-07-12T00:45:30.244Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:45:30.245Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:45:30.249Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8950

[debug] [2024-07-12T00:45:31.259Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:45:38.305Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:45:39.316Z] Validating nodejs source
[debug] [2024-07-12T00:45:41.761Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:45:41.761Z] Building nodejs source
[debug] [2024-07-12T00:45:41.762Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:45:41.772Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:45:41.785Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8056

[debug] [2024-07-12T00:45:44.186Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:45:44.466Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:45:45.474Z] Validating nodejs source
[debug] [2024-07-12T00:45:47.281Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:45:47.282Z] Building nodejs source
[debug] [2024-07-12T00:45:47.282Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:45:47.286Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:45:47.292Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:45:47.436Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8122

[error] C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:20
app.post("/payment/create", async (req, res) => );
                                                ^

SyntaxError: Unexpected token ')'
    at wrapSafe (node:internal/modules/cjs/loader:1281:20)
    at Module._compile (node:internal/modules/cjs/loader:1321:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T00:45:47.678Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[debug] [2024-07-12T00:45:48.445Z] Validating nodejs source
[debug] [2024-07-12T00:45:49.890Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:45:49.890Z] Building nodejs source
[debug] [2024-07-12T00:45:49.890Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:45:49.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:45:49.898Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:45:49.909Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8584

[debug] [2024-07-12T00:45:50.908Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:45:50.911Z] Validating nodejs source
[debug] [2024-07-12T00:45:52.243Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:45:52.244Z] Building nodejs source
[debug] [2024-07-12T00:45:52.244Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:45:52.246Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:45:52.251Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8053

[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T00:45:53.116Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:46:31.341Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:46:32.351Z] Validating nodejs source
[debug] [2024-07-12T00:46:33.415Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:33.415Z] Building nodejs source
[debug] [2024-07-12T00:46:33.416Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:33.417Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:33.421Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8275

[debug] [2024-07-12T00:46:33.744Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:46:33.968Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:46:34.752Z] Validating nodejs source
[debug] [2024-07-12T00:46:35.555Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:35.555Z] Building nodejs source
[debug] [2024-07-12T00:46:35.555Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:35.557Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:35.561Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:46:35.565Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8697

[debug] [2024-07-12T00:46:35.965Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:46:36.106Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:46:36.981Z] Validating nodejs source
[debug] [2024-07-12T00:46:37.930Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:37.930Z] Building nodejs source
[debug] [2024-07-12T00:46:37.930Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:37.931Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:37.935Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8192

[debug] [2024-07-12T00:46:38.484Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:46:38.804Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:46:39.804Z] Validating nodejs source
[debug] [2024-07-12T00:46:40.655Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:40.655Z] Building nodejs source
[debug] [2024-07-12T00:46:40.655Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:40.657Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:40.661Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8010

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:46:41.270Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:46:42.857Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:46:43.870Z] Validating nodejs source
[debug] [2024-07-12T00:46:44.831Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:44.832Z] Building nodejs source
[debug] [2024-07-12T00:46:44.832Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:44.833Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:44.836Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8812

[debug] [2024-07-12T00:46:45.397Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:46:52.739Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:46:53.746Z] Validating nodejs source
[debug] [2024-07-12T00:46:54.621Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:46:54.622Z] Building nodejs source
[debug] [2024-07-12T00:46:54.622Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:46:54.623Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:46:54.627Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8348

[debug] [2024-07-12T00:46:55.182Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:46:58.316Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:46:59.324Z] Validating nodejs source
[debug] [2024-07-12T00:47:00.213Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:00.213Z] Building nodejs source
[debug] [2024-07-12T00:47:00.213Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:00.215Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:00.219Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:00.452Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8242

[debug] [2024-07-12T00:47:00.791Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:01.462Z] Validating nodejs source
[debug] [2024-07-12T00:47:02.383Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:02.383Z] Building nodejs source
[debug] [2024-07-12T00:47:02.383Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:02.384Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:02.388Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8765

[debug] [2024-07-12T00:47:02.893Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:11.106Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:12.108Z] Validating nodejs source
[debug] [2024-07-12T00:47:12.949Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:12.950Z] Building nodejs source
[debug] [2024-07-12T00:47:12.950Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:12.951Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:12.956Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:12.964Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8228

[error] C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:24
  const paymentIntent
        ^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1281:20)
    at Module._compile (node:internal/modules/cjs/loader:1321:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T00:47:13.166Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2024-07-12T00:47:13.971Z] Validating nodejs source
[debug] [2024-07-12T00:47:14.887Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:14.888Z] Building nodejs source
[debug] [2024-07-12T00:47:14.888Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:14.897Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:14.901Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8006

[error] C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:24
  const paymentIntent
        ^^^^^^^^^^^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1281:20)
    at Module._compile (node:internal/modules/cjs/loader:1321:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T00:47:15.191Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2024-07-12T00:47:17.376Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T00:47:18.378Z] Validating nodejs source
[debug] [2024-07-12T00:47:19.216Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:19.216Z] Building nodejs source
[debug] [2024-07-12T00:47:19.216Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:19.218Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:19.221Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8458

[debug] [2024-07-12T00:47:19.582Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:19.735Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T00:47:20.586Z] Validating nodejs source
[debug] [2024-07-12T00:47:21.554Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:21.554Z] Building nodejs source
[debug] [2024-07-12T00:47:21.554Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:21.556Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:21.560Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:21.725Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8157

[debug] [2024-07-12T00:47:22.099Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:22.730Z] Validating nodejs source
[debug] [2024-07-12T00:47:23.535Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:23.535Z] Building nodejs source
[debug] [2024-07-12T00:47:23.536Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:23.537Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:23.542Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:23.549Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8276

[debug] [2024-07-12T00:47:24.110Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:24.563Z] Validating nodejs source
[debug] [2024-07-12T00:47:25.453Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:25.454Z] Building nodejs source
[debug] [2024-07-12T00:47:25.454Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:25.457Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:25.463Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:25.473Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8733

[debug] [2024-07-12T00:47:26.103Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:26.488Z] Validating nodejs source
[debug] [2024-07-12T00:47:27.404Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:27.404Z] Building nodejs source
[debug] [2024-07-12T00:47:27.404Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:27.406Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:27.410Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8588

[debug] [2024-07-12T00:47:28.034Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:31.460Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:32.462Z] Validating nodejs source
[debug] [2024-07-12T00:47:33.428Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:33.428Z] Building nodejs source
[debug] [2024-07-12T00:47:33.428Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:33.430Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:33.433Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8644

[debug] [2024-07-12T00:47:34.037Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:34.754Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:35.765Z] Validating nodejs source
[debug] [2024-07-12T00:47:36.579Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:36.580Z] Building nodejs source
[debug] [2024-07-12T00:47:36.580Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:36.581Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:36.585Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:36.591Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8239

[debug] [2024-07-12T00:47:37.264Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:37.599Z] Validating nodejs source
[debug] [2024-07-12T00:47:38.524Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:38.524Z] Building nodejs source
[debug] [2024-07-12T00:47:38.524Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:38.526Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:38.530Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:38.659Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8856

[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:39.165Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:39.674Z] Validating nodejs source
[debug] [2024-07-12T00:47:40.501Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:40.501Z] Building nodejs source
[debug] [2024-07-12T00:47:40.501Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:40.502Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:40.505Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8612

[debug] [2024-07-12T00:47:41.119Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:45.324Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:46.328Z] Validating nodejs source
[debug] [2024-07-12T00:47:47.169Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:47.169Z] Building nodejs source
[debug] [2024-07-12T00:47:47.169Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:47.171Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:47.176Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:47.353Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8109

[debug] [2024-07-12T00:47:47.709Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:48.361Z] Validating nodejs source
[debug] [2024-07-12T00:47:49.231Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:49.231Z] Building nodejs source
[debug] [2024-07-12T00:47:49.231Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:49.233Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:49.236Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8315

[debug] [2024-07-12T00:47:49.800Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:47:49.999Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:51.002Z] Validating nodejs source
[debug] [2024-07-12T00:47:51.816Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:51.816Z] Building nodejs source
[debug] [2024-07-12T00:47:51.816Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:51.817Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:51.821Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[debug] [2024-07-12T00:47:51.828Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] Serving at port 8658

[debug] [2024-07-12T00:47:52.348Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:52.841Z] Validating nodejs source
[debug] [2024-07-12T00:47:53.808Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:53.809Z] Building nodejs source
[debug] [2024-07-12T00:47:53.809Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:53.810Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:53.814Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8014

[debug] [2024-07-12T00:47:54.159Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:47:54.412Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:47:55.171Z] Validating nodejs source
[debug] [2024-07-12T00:47:56.015Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:47:56.015Z] Building nodejs source
[debug] [2024-07-12T00:47:56.015Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:47:56.017Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:47:56.020Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8746

[debug] [2024-07-12T00:47:56.680Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:48:02.364Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:03.371Z] Validating nodejs source
[debug] [2024-07-12T00:48:04.374Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:04.374Z] Building nodejs source
[debug] [2024-07-12T00:48:04.374Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:04.376Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:04.381Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8457

[debug] [2024-07-12T00:48:05.020Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:48:05.453Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:06.460Z] Validating nodejs source
[debug] [2024-07-12T00:48:07.333Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:07.333Z] Building nodejs source
[debug] [2024-07-12T00:48:07.333Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:07.334Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:07.338Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8739

[debug] [2024-07-12T00:48:07.962Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:48:09.231Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:48:10.234Z] Validating nodejs source
[debug] [2024-07-12T00:48:11.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:11.159Z] Building nodejs source
[debug] [2024-07-12T00:48:11.159Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:11.161Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:11.164Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8597

[error] C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:33
  });
  ^

SyntaxError: Unexpected token '}'
    at wrapSafe (node:internal/modules/cjs/loader:1281:20)
    at Module._compile (node:internal/modules/cjs/loader:1321:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T00:48:11.370Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[debug] [2024-07-12T00:48:12.487Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:48:13.503Z] Validating nodejs source
[debug] [2024-07-12T00:48:14.301Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:14.301Z] Building nodejs source
[debug] [2024-07-12T00:48:14.302Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:14.303Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:14.306Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8442

[debug] [2024-07-12T00:48:14.794Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-07-12T00:48:14.915Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:15.916Z] Validating nodejs source
[debug] [2024-07-12T00:48:16.725Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:16.725Z] Building nodejs source
[debug] [2024-07-12T00:48:16.725Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:16.727Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:16.732Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8966

[debug] [2024-07-12T00:48:17.253Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:48:20.374Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:20.491Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:21.502Z] Validating nodejs source
[debug] [2024-07-12T00:48:22.305Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:22.305Z] Building nodejs source
[debug] [2024-07-12T00:48:22.305Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:22.306Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:22.309Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8055

[debug] [2024-07-12T00:48:22.793Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:48:31.221Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:31.384Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:31.536Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T00:48:32.548Z] Validating nodejs source
[debug] [2024-07-12T00:48:33.474Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T00:48:33.474Z] Building nodejs source
[debug] [2024-07-12T00:48:33.475Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T00:48:33.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T00:48:33.481Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8866

[debug] [2024-07-12T00:48:34.099Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T00:50:10.833Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T00:50:10.832Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T00:50:10.833Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T00:50:10.832Z"],"workRunningCount":1}
[debug] [2024-07-12T00:50:10.833Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T00:50:10.836Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T00:50:10.836Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T00:50:10.836Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T00:50:10.844Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T00:50:10.845Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T00:50:12.017Z] [runtime-status] [30004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.017Z] [runtime-status] [30004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.018Z] [runtime-status] [30004] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T00:50:12.018Z] [runtime-status] [30004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.243Z] [runtime-status] [30004] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T00:50:12.243Z] [runtime-status] [30004] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T00:50:12.244Z] [runtime-status] [30004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.245Z] [runtime-status] [30004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.247Z] [runtime-status] [30004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T00:50:12.247Z] [runtime-status] [30004] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T00:50:12.428Z] [runtime-status] [30004] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T00:50:12.429Z] [runtime-status] [30004] Listening to port: \\?\pipe\fire_emu_ea5e4f119f27c7c6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30004] Listening to port: \\\\?\\pipe\\fire_emu_ea5e4f119f27c7c6"}}
[debug] [2024-07-12T00:50:12.469Z] [worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: IDLE"}}
[debug] [2024-07-12T00:50:12.469Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T00:50:12.470Z] [worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T00:50:12.503Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T00:50:12.503Z] [worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: exited"}}
[debug] [2024-07-12T00:50:12.503Z] [worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-40b3f91e-f886-4d49-928c-d72273923153]: FINISHED"}}
[debug] [2024-07-12T01:14:47.818Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:47.818Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:47.818Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:47.818Z"],"workRunningCount":1}
[debug] [2024-07-12T01:14:47.818Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T01:14:47.820Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:14:47.820Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T01:14:47.820Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:14:47.825Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:14:47.825Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:14:48.924Z] [runtime-status] [24756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:48.926Z] [runtime-status] [24756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:48.926Z] [runtime-status] [24756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:14:48.927Z] [runtime-status] [24756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:49.155Z] [runtime-status] [24756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:14:49.155Z] [runtime-status] [24756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:49.156Z] [runtime-status] [24756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:49.157Z] [runtime-status] [24756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:49.160Z] [runtime-status] [24756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:49.160Z] [runtime-status] [24756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:49.339Z] [runtime-status] [24756] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:14:49.339Z] [runtime-status] [24756] Listening to port: \\?\pipe\fire_emu_cab13f30e081a6bb {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24756] Listening to port: \\\\?\\pipe\\fire_emu_cab13f30e081a6bb"}}
[debug] [2024-07-12T01:14:49.365Z] [worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: IDLE"}}
[debug] [2024-07-12T01:14:49.365Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:14:49.366Z] [worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:14:49.399Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:49.399Z] [worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: exited"}}
[debug] [2024-07-12T01:14:49.399Z] [worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-4e0e077f-c899-4cbb-ac0b-1e7fcf74d667]: FINISHED"}}
[debug] [2024-07-12T01:14:52.822Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:52.822Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:52.822Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:52.822Z"],"workRunningCount":1}
[debug] [2024-07-12T01:14:52.822Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T01:14:52.823Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:14:52.823Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T01:14:52.823Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:14:52.828Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:14:52.828Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:14:54.035Z] [runtime-status] [44228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.037Z] [runtime-status] [44228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.037Z] [runtime-status] [44228] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:14:54.038Z] [runtime-status] [44228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.436Z] [runtime-status] [44228] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:14:54.436Z] [runtime-status] [44228] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:54.437Z] [runtime-status] [44228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.438Z] [runtime-status] [44228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.440Z] [runtime-status] [44228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:54.440Z] [runtime-status] [44228] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:54.632Z] [runtime-status] [44228] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:14:54.632Z] [runtime-status] [44228] Listening to port: \\?\pipe\fire_emu_fd2516cc8ca6a55a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [44228] Listening to port: \\\\?\\pipe\\fire_emu_fd2516cc8ca6a55a"}}
[debug] [2024-07-12T01:14:54.702Z] [worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: IDLE"}}
[debug] [2024-07-12T01:14:54.702Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:14:54.703Z] [worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:14:54.755Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:54.756Z] [worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: exited"}}
[debug] [2024-07-12T01:14:54.757Z] [worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c8509639-15a3-4af3-80ef-2d6464de0b18]: FINISHED"}}
[debug] [2024-07-12T01:14:54.831Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:54.831Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:54.831Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:14:54.831Z"],"workRunningCount":1}
[debug] [2024-07-12T01:14:54.831Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T01:14:54.832Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:14:54.832Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T01:14:54.832Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:14:54.837Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:14:54.837Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:14:55.984Z] [runtime-status] [27384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:55.987Z] [runtime-status] [27384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:55.988Z] [runtime-status] [27384] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:14:55.989Z] [runtime-status] [27384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:56.257Z] [runtime-status] [27384] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:14:56.257Z] [runtime-status] [27384] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:56.258Z] [runtime-status] [27384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:56.260Z] [runtime-status] [27384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:56.262Z] [runtime-status] [27384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:14:56.262Z] [runtime-status] [27384] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:14:56.437Z] [runtime-status] [27384] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:14:56.437Z] [runtime-status] [27384] Listening to port: \\?\pipe\fire_emu_0fe20f6ae065ae69 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [27384] Listening to port: \\\\?\\pipe\\fire_emu_0fe20f6ae065ae69"}}
[debug] [2024-07-12T01:14:56.456Z] [worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: IDLE"}}
[debug] [2024-07-12T01:14:56.456Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:14:56.457Z] [worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:14:56.481Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:14:56.481Z] [worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: exited"}}
[debug] [2024-07-12T01:14:56.481Z] [worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-acf59bff-a2a9-4e3d-9e06-19cf0aeaf65a]: FINISHED"}}
[debug] [2024-07-12T01:15:00.817Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:00.817Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:00.817Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:00.817Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:00.817Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T01:15:00.819Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:15:00.819Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T01:15:00.819Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:15:00.827Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:15:00.829Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:15:02.012Z] [runtime-status] [41420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.014Z] [runtime-status] [41420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.014Z] [runtime-status] [41420] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:15:02.015Z] [runtime-status] [41420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.226Z] [runtime-status] [41420] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:15:02.226Z] [runtime-status] [41420] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:02.227Z] [runtime-status] [41420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.228Z] [runtime-status] [41420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.230Z] [runtime-status] [41420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:02.230Z] [runtime-status] [41420] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:02.432Z] [runtime-status] [41420] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:15:02.432Z] [runtime-status] [41420] Listening to port: \\?\pipe\fire_emu_9a563bba53c1fe30 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41420] Listening to port: \\\\?\\pipe\\fire_emu_9a563bba53c1fe30"}}
[debug] [2024-07-12T01:15:02.460Z] [worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: IDLE"}}
[debug] [2024-07-12T01:15:02.460Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:15:02.461Z] [worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:15:02.485Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:02.486Z] [worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: exited"}}
[debug] [2024-07-12T01:15:02.486Z] [worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-031305ad-fdf1-46f2-b789-68f9653817cd]: FINISHED"}}
[debug] [2024-07-12T01:15:19.606Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.605Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:19.606Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.605Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:19.606Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:15:19.608Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:15:19.608Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:15:19.608Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:15:19.614Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:15:19.614Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:15:19.615Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.615Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.605Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:19.615Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.605Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.615Z"],"workRunningCount":2}
[debug] [2024-07-12T01:15:19.615Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:15:19.617Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:15:19.617Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:15:19.623Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:15:19.623Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:15:20.914Z] [runtime-status] [40016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:20.914Z] [runtime-status] [13284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:20.915Z] [runtime-status] [40016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:20.916Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:20.916Z] [runtime-status] [40016] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:15:20.916Z] [runtime-status] [13284] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:15:20.916Z] [runtime-status] [40016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:20.917Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.156Z] [runtime-status] [40016] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:15:21.156Z] [runtime-status] [40016] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:21.157Z] [runtime-status] [40016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.157Z] [runtime-status] [40016] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.158Z] [runtime-status] [13284] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:15:21.159Z] [runtime-status] [13284] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:21.160Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.160Z] [runtime-status] [40016] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.160Z] [runtime-status] [40016] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:21.161Z] [runtime-status] [13284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.162Z] [runtime-status] [13284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:21.163Z] [runtime-status] [13284] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:21.348Z] [runtime-status] [40016] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:15:21.349Z] [runtime-status] [40016] Listening to port: \\?\pipe\fire_emu_c7f449189c6e36ec {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40016] Listening to port: \\\\?\\pipe\\fire_emu_c7f449189c6e36ec"}}
[debug] [2024-07-12T01:15:21.350Z] [runtime-status] [13284] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:15:21.351Z] [runtime-status] [13284] Listening to port: \\?\pipe\fire_emu_949a575ba21f4d2e {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [13284] Listening to port: \\\\?\\pipe\\fire_emu_949a575ba21f4d2e"}}
[debug] [2024-07-12T01:15:21.453Z] [worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: IDLE"}}
[debug] [2024-07-12T01:15:21.453Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:15:21.454Z] [worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: BUSY"}}
[debug] [2024-07-12T01:15:21.454Z] [worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: IDLE"}}
[debug] [2024-07-12T01:15:21.455Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:15:21.455Z] [worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:15:21.493Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:19.615Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:15:21.494Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:21.494Z] [worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: exited"}}
[debug] [2024-07-12T01:15:21.494Z] [worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-af6c1c79-7d66-473b-8b02-6068bd31220c]: FINISHED"}}
[debug] [2024-07-12T01:15:21.495Z] [worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: exited"}}
[debug] [2024-07-12T01:15:21.495Z] [worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f658ad48-7d0f-4894-8f17-39c9c865566a]: FINISHED"}}
[debug] [2024-07-12T01:15:45.003Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.003Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:45.003Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.003Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:45.003Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=119500 --> us-central1-api
[debug] [2024-07-12T01:15:45.005Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:15:45.005Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=119500, mapping to path=/payment/create?total=119500 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=119500, mapping to path=/payment/create?total=119500"}}
[debug] [2024-07-12T01:15:45.005Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-07-12T01:15:45.016Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:15:45.016Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:15:45.018Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.018Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.003Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:45.019Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.003Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.018Z"],"workRunningCount":2}
[debug] [2024-07-12T01:15:45.019Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=119500 --> us-central1-api
[debug] [2024-07-12T01:15:45.022Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:15:45.022Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=119500, mapping to path=/payment/create?total=119500 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=119500, mapping to path=/payment/create?total=119500"}}
[debug] [2024-07-12T01:15:45.033Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:15:45.033Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:15:46.120Z] [runtime-status] [46196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.121Z] [runtime-status] [36468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.122Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.122Z] [runtime-status] [36468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.122Z] [runtime-status] [46196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:15:46.122Z] [runtime-status] [36468] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:15:46.123Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.123Z] [runtime-status] [36468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.340Z] [runtime-status] [36468] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:15:46.340Z] [runtime-status] [36468] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:46.341Z] [runtime-status] [36468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.341Z] [runtime-status] [36468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.342Z] [runtime-status] [46196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:15:46.342Z] [runtime-status] [46196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:46.343Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.343Z] [runtime-status] [36468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.343Z] [runtime-status] [36468] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:46.344Z] [runtime-status] [46196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.346Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:15:46.346Z] [runtime-status] [46196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:15:46.520Z] [runtime-status] [36468] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:15:46.520Z] [runtime-status] [36468] Listening to port: \\?\pipe\fire_emu_4ab4e2144a1aefcf {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [36468] Listening to port: \\\\?\\pipe\\fire_emu_4ab4e2144a1aefcf"}}
[debug] [2024-07-12T01:15:46.531Z] [runtime-status] [46196] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:15:46.531Z] [runtime-status] [46196] Listening to port: \\?\pipe\fire_emu_fa775d42e6dd06d6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Listening to port: \\\\?\\pipe\\fire_emu_fa775d42e6dd06d6"}}
[debug] [2024-07-12T01:15:46.549Z] [worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: IDLE"}}
[debug] [2024-07-12T01:15:46.549Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:15:46.550Z] [worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 119500 {"user":"Payment request recieved for this amount >>> 119500","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 119500"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:15:46.567Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:15:45.018Z"],"workRunningCount":1}
[debug] [2024-07-12T01:15:46.568Z] [worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: IDLE"}}
[debug] [2024-07-12T01:15:46.568Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:15:46.568Z] [worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: BUSY"}}
[debug] [2024-07-12T01:15:46.569Z] [worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: exited"}}
[debug] [2024-07-12T01:15:46.569Z] [worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6ee0489f-2bc2-4e98-a005-49d97adc49c3]: FINISHED"}}
[info] >  Payment request recieved for this amount >>> 119500 {"user":"Payment request recieved for this amount >>> 119500","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 119500"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:15:46.592Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:15:46.594Z] [worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: exited"}}
[debug] [2024-07-12T01:15:46.594Z] [worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-362aebb1-228c-4447-b700-b9c4fdbe1a79]: FINISHED"}}
[debug] [2024-07-12T01:17:44.618Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:17:44.619Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z"],"workRunningCount":1}
[debug] [2024-07-12T01:17:44.619Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=95600 --> us-central1-api
[debug] [2024-07-12T01:17:44.620Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:17:44.620Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=95600, mapping to path=/payment/create?total=95600"}}
[debug] [2024-07-12T01:17:44.620Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-07-12T01:17:44.626Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:17:44.627Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:17:44.755Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z"],"workRunningCount":1}
[debug] [2024-07-12T01:17:44.755Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z"],"workRunningCount":2}
[debug] [2024-07-12T01:17:44.755Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=71700 --> us-central1-api
[debug] [2024-07-12T01:17:44.756Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:17:44.756Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=71700, mapping to path=/payment/create?total=71700 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=71700, mapping to path=/payment/create?total=71700"}}
[debug] [2024-07-12T01:17:44.765Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:17:44.765Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:17:44.888Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z"],"workRunningCount":2}
[debug] [2024-07-12T01:17:44.889Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z"],"workRunningCount":3}
[debug] [2024-07-12T01:17:44.889Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=47800 --> us-central1-api
[debug] [2024-07-12T01:17:44.890Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:17:44.890Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=47800, mapping to path=/payment/create?total=47800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=47800, mapping to path=/payment/create?total=47800"}}
[debug] [2024-07-12T01:17:44.901Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:17:44.901Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2024-07-12T01:17:45.023Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z"],"workRunningCount":3}
[debug] [2024-07-12T01:17:45.023Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z"],"workRunningCount":4}
[debug] [2024-07-12T01:17:45.023Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=23900 --> us-central1-api
[debug] [2024-07-12T01:17:45.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:17:45.024Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=23900, mapping to path=/payment/create?total=23900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=23900, mapping to path=/payment/create?total=23900"}}
[debug] [2024-07-12T01:17:45.035Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:17:45.036Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2024-07-12T01:17:45.145Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z"],"workRunningCount":4}
[debug] [2024-07-12T01:17:45.145Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.618Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"workRunningCount":5}
[debug] [2024-07-12T01:17:45.146Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:17:45.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:17:45.146Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:17:45.157Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:17:45.157Z] [worker-pool] Adding worker with key us-central1-api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=5"}}
[debug] [2024-07-12T01:17:45.900Z] [runtime-status] [38956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:45.902Z] [runtime-status] [38956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:45.903Z] [runtime-status] [38956] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:17:45.903Z] [runtime-status] [38956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.074Z] [runtime-status] [30924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.076Z] [runtime-status] [30924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.076Z] [runtime-status] [30924] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:17:46.077Z] [runtime-status] [30924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.188Z] [runtime-status] [38956] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:17:46.188Z] [runtime-status] [38956] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.189Z] [runtime-status] [38956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.190Z] [runtime-status] [38956] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.192Z] [runtime-status] [38956] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.192Z] [runtime-status] [38956] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.234Z] [runtime-status] [32672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.236Z] [runtime-status] [32672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.237Z] [runtime-status] [32672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:17:46.238Z] [runtime-status] [32672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.353Z] [runtime-status] [30924] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:17:46.353Z] [runtime-status] [30924] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.353Z] [runtime-status] [30924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.355Z] [runtime-status] [30924] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.357Z] [runtime-status] [30924] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.357Z] [runtime-status] [30924] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.402Z] [runtime-status] [35276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.404Z] [runtime-status] [35276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.405Z] [runtime-status] [35276] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:17:46.405Z] [runtime-status] [35276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.433Z] [runtime-status] [38956] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:17:46.433Z] [runtime-status] [38956] Listening to port: \\?\pipe\fire_emu_c821e60f7c53ab4a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [38956] Listening to port: \\\\?\\pipe\\fire_emu_c821e60f7c53ab4a"}}
[debug] [2024-07-12T01:17:46.468Z] [worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: IDLE"}}
[debug] [2024-07-12T01:17:46.469Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:17:46.470Z] [worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 95600 {"user":"Payment request recieved for this amount >>> 95600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 95600"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:17:46.495Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.755Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"workRunningCount":4}
[debug] [2024-07-12T01:17:46.496Z] [worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: exited"}}
[debug] [2024-07-12T01:17:46.496Z] [worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f587bd48-bb8f-4839-a701-0c1d7705657b]: FINISHED"}}
[debug] [2024-07-12T01:17:46.528Z] [runtime-status] [33288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.531Z] [runtime-status] [33288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.532Z] [runtime-status] [33288] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:17:46.534Z] [runtime-status] [33288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.558Z] [runtime-status] [32672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:17:46.558Z] [runtime-status] [32672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.559Z] [runtime-status] [32672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.561Z] [runtime-status] [32672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.564Z] [runtime-status] [32672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.566Z] [runtime-status] [32672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.625Z] [runtime-status] [30924] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:17:46.625Z] [runtime-status] [30924] Listening to port: \\?\pipe\fire_emu_4f7954cb97e9acd9 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30924] Listening to port: \\\\?\\pipe\\fire_emu_4f7954cb97e9acd9"}}
[debug] [2024-07-12T01:17:46.719Z] [runtime-status] [35276] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:17:46.719Z] [runtime-status] [35276] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.719Z] [runtime-status] [35276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.720Z] [runtime-status] [35276] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.723Z] [runtime-status] [35276] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.723Z] [runtime-status] [35276] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.726Z] [worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: IDLE"}}
[debug] [2024-07-12T01:17:46.727Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-07-12T01:17:46.727Z] [worker-pool] Cleaned up workers for us-central1-api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 5 --> 4"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:17:46.727Z] [worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 71700 {"user":"Payment request recieved for this amount >>> 71700","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 71700"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:17:46.753Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:44.888Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"workRunningCount":3}
[debug] [2024-07-12T01:17:46.753Z] [worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: exited"}}
[debug] [2024-07-12T01:17:46.754Z] [worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-08ed8969-d4d8-4846-8d20-e9c8549bfd06]: FINISHED"}}
[debug] [2024-07-12T01:17:46.828Z] [runtime-status] [32672] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:17:46.828Z] [runtime-status] [32672] Listening to port: \\?\pipe\fire_emu_1577b4d2c06f406c {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [32672] Listening to port: \\\\?\\pipe\\fire_emu_1577b4d2c06f406c"}}
[debug] [2024-07-12T01:17:46.853Z] [runtime-status] [33288] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:17:46.854Z] [runtime-status] [33288] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.854Z] [runtime-status] [33288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.855Z] [runtime-status] [33288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.857Z] [runtime-status] [33288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:17:46.857Z] [runtime-status] [33288] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:17:46.893Z] [worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: IDLE"}}
[debug] [2024-07-12T01:17:46.893Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-07-12T01:17:46.894Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 3"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:17:46.894Z] [worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 47800 {"user":"Payment request recieved for this amount >>> 47800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 47800"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:17:46.918Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.023Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"workRunningCount":2}
[debug] [2024-07-12T01:17:46.919Z] [worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: exited"}}
[debug] [2024-07-12T01:17:46.919Z] [worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-23497402-6dc2-435c-bafc-32e46a49eb33]: FINISHED"}}
[debug] [2024-07-12T01:17:46.992Z] [runtime-status] [35276] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:17:46.994Z] [runtime-status] [35276] Listening to port: \\?\pipe\fire_emu_b3ec8e22ef78f8e8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [35276] Listening to port: \\\\?\\pipe\\fire_emu_b3ec8e22ef78f8e8"}}
[debug] [2024-07-12T01:17:46.999Z] [worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: IDLE"}}
[debug] [2024-07-12T01:17:47.000Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-07-12T01:17:47.000Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 2"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:17:47.001Z] [worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 23900 {"user":"Payment request recieved for this amount >>> 23900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 23900"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:17:47.023Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:17:45.145Z"],"workRunningCount":1}
[debug] [2024-07-12T01:17:47.028Z] [worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: exited"}}
[debug] [2024-07-12T01:17:47.028Z] [worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6036f44c-3d1e-4c0d-b3d9-aba81a3a9d4a]: FINISHED"}}
[debug] [2024-07-12T01:17:47.096Z] [runtime-status] [33288] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:17:47.098Z] [runtime-status] [33288] Listening to port: \\?\pipe\fire_emu_0019f19480e16ee8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33288] Listening to port: \\\\?\\pipe\\fire_emu_0019f19480e16ee8"}}
[debug] [2024-07-12T01:17:47.106Z] [worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: IDLE"}}
[debug] [2024-07-12T01:17:47.106Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-07-12T01:17:47.106Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:17:47.107Z] [worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:17:47.139Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:17:47.139Z] [worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: exited"}}
[debug] [2024-07-12T01:17:47.139Z] [worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-dd66539a-2ff5-4bc7-8988-b9ff401a9806]: FINISHED"}}
[debug] [2024-07-12T01:20:00.821Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:00.821Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:00.821Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:00.821Z"],"workRunningCount":1}
[debug] [2024-07-12T01:20:00.821Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:20:00.822Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:20:00.823Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:20:00.823Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:20:00.828Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:20:00.828Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:20:01.806Z] [runtime-status] [49376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:01.807Z] [runtime-status] [49376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:01.808Z] [runtime-status] [49376] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:20:01.808Z] [runtime-status] [49376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:02.006Z] [runtime-status] [49376] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:20:02.007Z] [runtime-status] [49376] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:02.007Z] [runtime-status] [49376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:02.008Z] [runtime-status] [49376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:02.010Z] [runtime-status] [49376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:02.010Z] [runtime-status] [49376] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:02.173Z] [runtime-status] [49376] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:20:02.174Z] [runtime-status] [49376] Listening to port: \\?\pipe\fire_emu_8c39f3807eafed9a {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [49376] Listening to port: \\\\?\\pipe\\fire_emu_8c39f3807eafed9a"}}
[debug] [2024-07-12T01:20:02.258Z] [worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: IDLE"}}
[debug] [2024-07-12T01:20:02.258Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:20:02.258Z] [worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:20:02.279Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:02.281Z] [worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: exited"}}
[debug] [2024-07-12T01:20:02.281Z] [worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1e4fcc0b-3713-48b1-9638-8203becbf39d]: FINISHED"}}
[debug] [2024-07-12T01:20:29.819Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:29.819Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:29.819Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:29.819Z"],"workRunningCount":1}
[debug] [2024-07-12T01:20:29.819Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:20:29.823Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:20:29.823Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:20:29.823Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:20:29.832Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:20:29.832Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:20:30.948Z] [runtime-status] [25380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:30.949Z] [runtime-status] [25380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:30.949Z] [runtime-status] [25380] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:20:30.950Z] [runtime-status] [25380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:31.180Z] [runtime-status] [25380] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:20:31.181Z] [runtime-status] [25380] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:31.181Z] [runtime-status] [25380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:31.182Z] [runtime-status] [25380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:31.184Z] [runtime-status] [25380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:31.184Z] [runtime-status] [25380] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:31.364Z] [runtime-status] [25380] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:20:31.364Z] [runtime-status] [25380] Listening to port: \\?\pipe\fire_emu_d71750877f7e5ed6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [25380] Listening to port: \\\\?\\pipe\\fire_emu_d71750877f7e5ed6"}}
[debug] [2024-07-12T01:20:31.462Z] [worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: IDLE"}}
[debug] [2024-07-12T01:20:31.462Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:20:31.463Z] [worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:20:31.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:31.487Z] [worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: exited"}}
[debug] [2024-07-12T01:20:31.487Z] [worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-60dcc519-2466-44ea-a276-21370504dc3f]: FINISHED"}}
[debug] [2024-07-12T01:20:56.042Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.042Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:56.042Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.042Z"],"workRunningCount":1}
[debug] [2024-07-12T01:20:56.042Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=143400 --> us-central1-api
[debug] [2024-07-12T01:20:56.045Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:20:56.046Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=143400, mapping to path=/payment/create?total=143400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=143400, mapping to path=/payment/create?total=143400"}}
[debug] [2024-07-12T01:20:56.046Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:20:56.057Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:20:56.057Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:20:56.059Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.059Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.042Z"],"workRunningCount":1}
[debug] [2024-07-12T01:20:56.059Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.042Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.059Z"],"workRunningCount":2}
[debug] [2024-07-12T01:20:56.059Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=143400 --> us-central1-api
[debug] [2024-07-12T01:20:56.064Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:20:56.064Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=143400, mapping to path=/payment/create?total=143400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=143400, mapping to path=/payment/create?total=143400"}}
[debug] [2024-07-12T01:20:56.079Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:20:56.080Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:20:57.138Z] [runtime-status] [41844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.138Z] [runtime-status] [19864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.139Z] [runtime-status] [41844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.139Z] [runtime-status] [41844] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:20:57.140Z] [runtime-status] [19864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.140Z] [runtime-status] [19864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:20:57.140Z] [runtime-status] [41844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.141Z] [runtime-status] [19864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.361Z] [runtime-status] [41844] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:20:57.361Z] [runtime-status] [41844] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:57.361Z] [runtime-status] [19864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:20:57.361Z] [runtime-status] [19864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:57.362Z] [runtime-status] [41844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.362Z] [runtime-status] [19864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.363Z] [runtime-status] [41844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.363Z] [runtime-status] [19864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.365Z] [runtime-status] [41844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.365Z] [runtime-status] [19864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:20:57.365Z] [runtime-status] [41844] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:57.365Z] [runtime-status] [19864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:20:57.540Z] [runtime-status] [19864] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:20:57.540Z] [runtime-status] [19864] Listening to port: \\?\pipe\fire_emu_03bc0dcae1647f73 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19864] Listening to port: \\\\?\\pipe\\fire_emu_03bc0dcae1647f73"}}
[debug] [2024-07-12T01:20:57.542Z] [runtime-status] [41844] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:20:57.542Z] [runtime-status] [41844] Listening to port: \\?\pipe\fire_emu_d9a80769538e0281 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [41844] Listening to port: \\\\?\\pipe\\fire_emu_d9a80769538e0281"}}
[debug] [2024-07-12T01:20:57.569Z] [worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: IDLE"}}
[debug] [2024-07-12T01:20:57.570Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:20:57.570Z] [worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 143400 {"user":"Payment request recieved for this amount >>> 143400","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 143400"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:20:57.590Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:20:56.059Z"],"workRunningCount":1}
[debug] [2024-07-12T01:20:57.591Z] [worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: exited"}}
[debug] [2024-07-12T01:20:57.591Z] [worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-16abf56b-810c-4398-a380-3fe723376711]: FINISHED"}}
[debug] [2024-07-12T01:20:57.634Z] [worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: IDLE"}}
[debug] [2024-07-12T01:20:57.634Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[debug] [2024-07-12T01:20:57.634Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:20:57.635Z] [worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 143400 {"user":"Payment request recieved for this amount >>> 143400","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 143400"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25\r"}}
[info] >    const paymentIntent = await stripe.paymentIntent.create({ {"user":"  const paymentIntent = await stripe.paymentIntent.create({\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   const paymentIntent = await stripe.paymentIntent.create({\r"}}
[info] >                                                     ^ {"user":"                                                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  TypeError: Cannot read properties of undefined (reading 'create') {"user":"TypeError: Cannot read properties of undefined (reading 'create')\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'create')\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:25:52 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js:25:52\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\route.js:119:3) {"user":"    at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\route.js:119:3)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:284:15 {"user":"    at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:284:15\r"}}
[info] >      at Function.process_params (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:346:12) {"user":"    at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:346:12)\r"}}
[info] >      at next (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\index.js:280:10) {"user":"    at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\index.js:280:10)\r"}}
[info] >      at jsonParser (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\body-parser\lib\types\json.js:122:7) {"user":"    at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\body-parser\\lib\\types\\json.js:122:7)\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:20:57.662Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:20:57.662Z] [worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: exited"}}
[debug] [2024-07-12T01:20:57.662Z] [worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-662600ea-4934-414d-ba5d-07c5a3adafaf]: FINISHED"}}
[debug] [2024-07-12T01:23:14.713Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:23:14.861Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:23:15.870Z] Validating nodejs source
[debug] [2024-07-12T01:23:16.730Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:23:16.730Z] Building nodejs source
[debug] [2024-07-12T01:23:16.730Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:23:16.731Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:23:16.736Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8032

[error] ReferenceError: functions is not defined
    at Object.<anonymous> (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:38:15)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T01:23:17.161Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: functions is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T01:23:28.708Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:23:29.713Z] Validating nodejs source
[debug] [2024-07-12T01:23:30.631Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:23:30.631Z] Building nodejs source
[debug] [2024-07-12T01:23:30.631Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:23:30.633Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:23:30.636Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8161

[error] ReferenceError: functions is not defined
    at Object.<anonymous> (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:37:15)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T01:23:31.051Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: functions is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T01:24:07.319Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:24:07.772Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:24:08.780Z] Validating nodejs source
[debug] [2024-07-12T01:24:09.561Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:24:09.561Z] Building nodejs source
[debug] [2024-07-12T01:24:09.561Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:24:09.562Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:24:09.566Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8396

[error] ReferenceError: functions is not defined
    at Object.<anonymous> (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:37:15)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T01:24:09.971Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: functions is not defined
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T01:24:40.710Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:24:41.725Z] Validating nodejs source
[debug] [2024-07-12T01:24:42.542Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:24:42.542Z] Building nodejs source
[debug] [2024-07-12T01:24:42.542Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:24:42.543Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:24:42.548Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8446

[debug] [2024-07-12T01:24:42.979Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T01:25:36.672Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.672Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:25:36.672Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.672Z"],"workRunningCount":1}
[debug] [2024-07-12T01:25:36.672Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:25:36.675Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:25:36.675Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:25:36.676Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2024-07-12T01:25:36.684Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:25:36.685Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:25:36.687Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.687Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.672Z"],"workRunningCount":1}
[debug] [2024-07-12T01:25:36.688Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.672Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.687Z"],"workRunningCount":2}
[debug] [2024-07-12T01:25:36.688Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:25:36.691Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:25:36.691Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:25:36.702Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:25:36.702Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:25:38.146Z] [runtime-status] [48864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.148Z] [runtime-status] [48864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.148Z] [runtime-status] [48864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:25:38.149Z] [runtime-status] [48864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.270Z] [runtime-status] [46288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.271Z] [runtime-status] [46288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.271Z] [runtime-status] [46288] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:25:38.272Z] [runtime-status] [46288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.399Z] [runtime-status] [48864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:25:38.399Z] [runtime-status] [48864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:25:38.400Z] [runtime-status] [48864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.401Z] [runtime-status] [48864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.403Z] [runtime-status] [48864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.403Z] [runtime-status] [48864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:25:38.502Z] [runtime-status] [46288] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:25:38.502Z] [runtime-status] [46288] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:25:38.503Z] [runtime-status] [46288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.504Z] [runtime-status] [46288] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.506Z] [runtime-status] [46288] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:25:38.506Z] [runtime-status] [46288] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:25:38.587Z] [runtime-status] [48864] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:25:38.588Z] [runtime-status] [48864] Listening to port: \\?\pipe\fire_emu_23d224e651dd0667 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [48864] Listening to port: \\\\?\\pipe\\fire_emu_23d224e651dd0667"}}
[debug] [2024-07-12T01:25:38.666Z] [worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: IDLE"}}
[debug] [2024-07-12T01:25:38.666Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:25:38.667Z] [worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[debug] [2024-07-12T01:25:38.719Z] [runtime-status] [46288] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:25:38.720Z] [runtime-status] [46288] Listening to port: \\?\pipe\fire_emu_a4f9e14ec7731360 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46288] Listening to port: \\\\?\\pipe\\fire_emu_a4f9e14ec7731360"}}
[debug] [2024-07-12T01:25:38.778Z] [worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: IDLE"}}
[debug] [2024-07-12T01:25:38.778Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:25:38.780Z] [worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r"}}
[info] >      at StripeError.generate (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents', {"user":"    message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_ucg8ql27s5wxZP?t=1720747540', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_ucg8ql27s5wxZP?t=1720747540',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_ucg8ql27s5wxZP?t=1720747540',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Fri, 12 Jul 2024 01:25:40 GMT', {"user":"      date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '663', {"user":"      'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '663',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >        'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"      'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >        'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2', {"user":"      'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2',\r"}}
[info] >        'original-request': 'req_ucg8ql27s5wxZP', {"user":"      'original-request': 'req_ucg8ql27s5wxZP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_ucg8ql27s5wxZP',\r"}}
[info] >        'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"      'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >        'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"      'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >        'request-id': 'req_ucg8ql27s5wxZP', {"user":"      'request-id': 'req_ucg8ql27s5wxZP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ucg8ql27s5wxZP',\r"}}
[info] >        'stripe-version': '2024-06-20', {"user":"      'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2024-06-20',\r"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',\r"}}
[info] >        'x-content-type-options': 'nosniff', {"user":"      'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-content-type-options': 'nosniff',\r"}}
[info] >        'x-stripe-priority-routing-enabled': 'true', {"user":"      'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_ucg8ql27s5wxZP' {"user":"    requestId: 'req_ucg8ql27s5wxZP'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ucg8ql27s5wxZP'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Fri, 12 Jul 2024 01:25:40 GMT', {"user":"    date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '663', {"user":"    'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '663',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >      'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"    'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >      'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2', {"user":"    'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-90f1e71e-8e21-46ed-9451-1b6854be86b2',\r"}}
[info] >      'original-request': 'req_ucg8ql27s5wxZP', {"user":"    'original-request': 'req_ucg8ql27s5wxZP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_ucg8ql27s5wxZP',\r"}}
[info] >      'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"    'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >      'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"    'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >      'request-id': 'req_ucg8ql27s5wxZP', {"user":"    'request-id': 'req_ucg8ql27s5wxZP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ucg8ql27s5wxZP',\r"}}
[info] >      'stripe-version': '2024-06-20', {"user":"    'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2024-06-20',\r"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',\r"}}
[info] >      'x-content-type-options': 'nosniff', {"user":"    'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-content-type-options': 'nosniff',\r"}}
[info] >      'x-stripe-priority-routing-enabled': 'true', {"user":"    'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_ucg8ql27s5wxZP', {"user":"  requestId: 'req_ucg8ql27s5wxZP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ucg8ql27s5wxZP',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:25:39.119Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:25:36.672Z"],"workRunningCount":1}
[debug] [2024-07-12T01:25:39.120Z] [worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: exited"}}
[debug] [2024-07-12T01:25:39.120Z] [worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f1d40fee-eb81-4251-b821-7834996f668c]: FINISHED"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r"}}
[info] >      at StripeError.generate (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents', {"user":"    message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_uN9Zzwp7xSHMcN?t=1720747540', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_uN9Zzwp7xSHMcN?t=1720747540',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_uN9Zzwp7xSHMcN?t=1720747540',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Fri, 12 Jul 2024 01:25:40 GMT', {"user":"      date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '663', {"user":"      'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '663',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >        'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"      'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >        'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2', {"user":"      'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2',\r"}}
[info] >        'original-request': 'req_uN9Zzwp7xSHMcN', {"user":"      'original-request': 'req_uN9Zzwp7xSHMcN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_uN9Zzwp7xSHMcN',\r"}}
[info] >        'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"      'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >        'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"      'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >        'request-id': 'req_uN9Zzwp7xSHMcN', {"user":"      'request-id': 'req_uN9Zzwp7xSHMcN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_uN9Zzwp7xSHMcN',\r"}}
[info] >        'stripe-version': '2024-06-20', {"user":"      'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2024-06-20',\r"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',\r"}}
[info] >        'x-content-type-options': 'nosniff', {"user":"      'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-content-type-options': 'nosniff',\r"}}
[info] >        'x-stripe-priority-routing-enabled': 'true', {"user":"      'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_uN9Zzwp7xSHMcN' {"user":"    requestId: 'req_uN9Zzwp7xSHMcN'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_uN9Zzwp7xSHMcN'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Fri, 12 Jul 2024 01:25:40 GMT', {"user":"    date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Fri, 12 Jul 2024 01:25:40 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '663', {"user":"    'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '663',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >      'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"    'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >      'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2', {"user":"    'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-ab90a020-94a8-4a9e-92ca-ddc74b4035d2',\r"}}
[info] >      'original-request': 'req_uN9Zzwp7xSHMcN', {"user":"    'original-request': 'req_uN9Zzwp7xSHMcN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_uN9Zzwp7xSHMcN',\r"}}
[info] >      'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"    'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >      'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"    'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >      'request-id': 'req_uN9Zzwp7xSHMcN', {"user":"    'request-id': 'req_uN9Zzwp7xSHMcN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_uN9Zzwp7xSHMcN',\r"}}
[info] >      'stripe-version': '2024-06-20', {"user":"    'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2024-06-20',\r"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',\r"}}
[info] >      'x-content-type-options': 'nosniff', {"user":"    'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-content-type-options': 'nosniff',\r"}}
[info] >      'x-stripe-priority-routing-enabled': 'true', {"user":"    'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_uN9Zzwp7xSHMcN', {"user":"  requestId: 'req_uN9Zzwp7xSHMcN',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_uN9Zzwp7xSHMcN',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:25:39.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:25:39.308Z] [worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: exited"}}
[debug] [2024-07-12T01:25:39.308Z] [worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-03c7a610-bc29-439d-8ff8-c9920b3696c5]: FINISHED"}}
[debug] [2024-07-12T01:27:45.178Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:27:46.184Z] Validating nodejs source
[debug] [2024-07-12T01:27:47.230Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:27:47.230Z] Building nodejs source
[debug] [2024-07-12T01:27:47.230Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:27:47.231Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:27:47.236Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8558

[error] C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js:3
const fun
      ^^^

SyntaxError: Missing initializer in const declaration
    at wrapSafe (node:internal/modules/cjs/loader:1281:20)
    at Module._compile (node:internal/modules/cjs/loader:1321:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:40:16)
    at loadStack (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\runtime\loader.js:93:23)
    at C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\firebase-functions\lib\bin\firebase-functions.js:56:56

[debug] [2024-07-12T01:27:47.530Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing initializer in const declaration
[debug] [2024-07-12T01:27:49.806Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:27:50.808Z] Validating nodejs source
[debug] [2024-07-12T01:27:51.782Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:27:51.782Z] Building nodejs source
[debug] [2024-07-12T01:27:51.783Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:27:51.784Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:27:51.788Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8330

[debug] [2024-07-12T01:27:52.316Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] !!  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-07-12T01:27:54.254Z] File C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-07-12T01:27:55.263Z] Validating nodejs source
[debug] [2024-07-12T01:27:56.114Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.19.2",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "stripe": "^16.2.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-12T01:27:56.114Z] Building nodejs source
[debug] [2024-07-12T01:27:56.114Z] Failed to find version of module node: reached end of search path C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-07-12T01:27:56.115Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-12T01:27:56.119Z] Found firebase-functions binary at 'C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8819

[debug] [2024-07-12T01:27:56.687Z] Got response from /__/functions.yaml {"endpoints":{"api":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] +  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2024-07-12T01:32:27.315Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.315Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:32:27.315Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.315Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:27.315Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=19990 --> us-central1-api
[debug] [2024-07-12T01:32:27.319Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:32:27.319Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990"}}
[debug] [2024-07-12T01:32:27.319Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2024-07-12T01:32:27.331Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:32:27.331Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2024-07-12T01:32:27.333Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.333Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.315Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:27.333Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.315Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.333Z"],"workRunningCount":2}
[debug] [2024-07-12T01:32:27.333Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=19990 --> us-central1-api
[debug] [2024-07-12T01:32:27.338Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:32:27.338Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990"}}
[debug] [2024-07-12T01:32:27.352Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:32:27.352Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2024-07-12T01:32:28.612Z] [runtime-status] [40308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.612Z] [runtime-status] [46196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.613Z] [runtime-status] [40308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.613Z] [runtime-status] [40308] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:32:28.613Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.614Z] [runtime-status] [46196] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-07-12T01:32:28.614Z] [runtime-status] [40308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.614Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.833Z] [runtime-status] [40308] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:32:28.833Z] [runtime-status] [40308] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:32:28.833Z] [runtime-status] [40308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.834Z] [runtime-status] [46196] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-07-12T01:32:28.834Z] [runtime-status] [46196] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-07-12T01:32:28.834Z] [runtime-status] [40308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.835Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.836Z] [runtime-status] [46196] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.836Z] [runtime-status] [40308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.837Z] [runtime-status] [40308] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:32:28.838Z] [runtime-status] [46196] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.0.1","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.0.1\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-07-12T01:32:28.838Z] [runtime-status] [46196] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.2.0","resolution":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.2.0\",\"resolution\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-07-12T01:32:29.029Z] [runtime-status] [40308] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:32:29.029Z] [runtime-status] [40308] Listening to port: \\?\pipe\fire_emu_f612722201d90c93 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [40308] Listening to port: \\\\?\\pipe\\fire_emu_f612722201d90c93"}}
[debug] [2024-07-12T01:32:29.039Z] [runtime-status] [46196] Functions runtime initialized. {"cwd":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions","node_version":"20.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\wbagh\\\\Desktop\\\\personal-projects\\\\learning-react\\\\ecommerce\\\\amazon-clone\\\\functions\",\"node_version\":\"20.13.1\"}"}}
[debug] [2024-07-12T01:32:29.040Z] [runtime-status] [46196] Listening to port: \\?\pipe\fire_emu_50249a7b10516451 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [46196] Listening to port: \\\\?\\pipe\\fire_emu_50249a7b10516451"}}
[debug] [2024-07-12T01:32:29.059Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE"}}
[debug] [2024-07-12T01:32:29.060Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:32:29.061Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 19990 {"user":"Payment request recieved for this amount >>> 19990","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 19990"}}
[debug] [2024-07-12T01:32:29.066Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE"}}
[debug] [2024-07-12T01:32:29.067Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:32:29.067Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 19990 {"user":"Payment request recieved for this amount >>> 19990","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 19990"}}
[debug] [2024-07-12T01:32:29.503Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 442.7481ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 442.7481ms"}}
[debug] [2024-07-12T01:32:29.505Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE"}}
[debug] [2024-07-12T01:32:29.505Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T01:32:29.505Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T01:32:29.506Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:27.333Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:29.506Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 439.2501ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 439.2501ms"}}
[debug] [2024-07-12T01:32:29.507Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE"}}
[debug] [2024-07-12T01:32:29.507Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T01:32:29.507Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T01:32:29.507Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:32:50.722Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.722Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:32:50.723Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.722Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:50.723Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=19990 --> us-central1-api
[debug] [2024-07-12T01:32:50.725Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:32:50.725Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990"}}
[debug] [2024-07-12T01:32:50.726Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:32:50.727Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY"}}
[debug] [2024-07-12T01:32:50.729Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.729Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.722Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:50.729Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.722Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.729Z"],"workRunningCount":2}
[debug] [2024-07-12T01:32:50.730Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=19990 --> us-central1-api
[debug] [2024-07-12T01:32:50.732Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:32:50.733Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=19990, mapping to path=/payment/create?total=19990"}}
[debug] [2024-07-12T01:32:50.733Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:32:50.734Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 19990 {"user":"Payment request recieved for this amount >>> 19990","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 19990"}}
[info] >  Payment request recieved for this amount >>> 19990 {"user":"Payment request recieved for this amount >>> 19990","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 19990"}}
[debug] [2024-07-12T01:32:50.987Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 260.3819ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 260.3819ms"}}
[debug] [2024-07-12T01:32:50.988Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE"}}
[debug] [2024-07-12T01:32:50.988Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T01:32:50.988Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T01:32:50.988Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:32:50.729Z"],"workRunningCount":1}
[debug] [2024-07-12T01:32:51.007Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 273.0394ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 273.0394ms"}}
[debug] [2024-07-12T01:32:51.008Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: IDLE"}}
[debug] [2024-07-12T01:32:51.008Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T01:32:51.008Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T01:32:51.008Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:23.568Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:23.568Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:23.568Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:23.568Z"],"workRunningCount":1}
[debug] [2024-07-12T01:33:23.568Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=17991 --> us-central1-api
[debug] [2024-07-12T01:33:23.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:33:23.570Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=17991, mapping to path=/payment/create?total=17991 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=17991, mapping to path=/payment/create?total=17991"}}
[debug] [2024-07-12T01:33:23.570Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:33:23.571Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 17991 {"user":"Payment request recieved for this amount >>> 17991","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 17991"}}
[debug] [2024-07-12T01:33:23.855Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 284.5211ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 284.5211ms"}}
[debug] [2024-07-12T01:33:23.856Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: IDLE"}}
[debug] [2024-07-12T01:33:23.856Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-07-12T01:33:23.856Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-07-12T01:33:23.856Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:25.349Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:25.349Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:25.349Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:25.349Z"],"workRunningCount":1}
[debug] [2024-07-12T01:33:25.349Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=15991.999999999998 --> us-central1-api
[debug] [2024-07-12T01:33:25.350Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:33:25.350Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=15991.999999999998, mapping to path=/payment/create?total=15991.999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=15991.999999999998, mapping to path=/payment/create?total=15991.999999999998"}}
[debug] [2024-07-12T01:33:25.350Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:33:25.351Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: BUSY"}}
[info] >  Payment request recieved for this amount >>> 15991.999999999998 {"user":"Payment request recieved for this amount >>> 15991.999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 15991.999999999998"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: Invalid integer: 15991.999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 15991.999999999998\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 15991.999999999998\r"}}
[info] >      at StripeError.generate (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'Invalid integer: 15991.999999999998', {"user":"    message: 'Invalid integer: 15991.999999999998',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 15991.999999999998',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_rorriDUpAsQp5r?t=1720748006', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_rorriDUpAsQp5r?t=1720748006',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_rorriDUpAsQp5r?t=1720748006',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Fri, 12 Jul 2024 01:33:26 GMT', {"user":"      date: 'Fri, 12 Jul 2024 01:33:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Fri, 12 Jul 2024 01:33:26 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '352', {"user":"      'content-length': '352',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '352',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >        'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"      'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >        'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd', {"user":"      'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd',\r"}}
[info] >        'original-request': 'req_rorriDUpAsQp5r', {"user":"      'original-request': 'req_rorriDUpAsQp5r',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_rorriDUpAsQp5r',\r"}}
[info] >        'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"      'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >        'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"      'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >        'request-id': 'req_rorriDUpAsQp5r', {"user":"      'request-id': 'req_rorriDUpAsQp5r',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_rorriDUpAsQp5r',\r"}}
[info] >        'stripe-version': '2024-06-20', {"user":"      'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2024-06-20',\r"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',\r"}}
[info] >        'x-content-type-options': 'nosniff', {"user":"      'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-content-type-options': 'nosniff',\r"}}
[info] >        'x-stripe-priority-routing-enabled': 'true', {"user":"      'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_rorriDUpAsQp5r' {"user":"    requestId: 'req_rorriDUpAsQp5r'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_rorriDUpAsQp5r'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Fri, 12 Jul 2024 01:33:26 GMT', {"user":"    date: 'Fri, 12 Jul 2024 01:33:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Fri, 12 Jul 2024 01:33:26 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '352', {"user":"    'content-length': '352',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '352',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >      'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"    'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >      'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd', {"user":"    'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-ed7fac3c-bce6-4c19-b9a1-4e92c90fe2dd',\r"}}
[info] >      'original-request': 'req_rorriDUpAsQp5r', {"user":"    'original-request': 'req_rorriDUpAsQp5r',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_rorriDUpAsQp5r',\r"}}
[info] >      'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"    'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >      'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"    'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >      'request-id': 'req_rorriDUpAsQp5r', {"user":"    'request-id': 'req_rorriDUpAsQp5r',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_rorriDUpAsQp5r',\r"}}
[info] >      'stripe-version': '2024-06-20', {"user":"    'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2024-06-20',\r"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',\r"}}
[info] >      'x-content-type-options': 'nosniff', {"user":"    'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-content-type-options': 'nosniff',\r"}}
[info] >      'x-stripe-priority-routing-enabled': 'true', {"user":"    'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_rorriDUpAsQp5r', {"user":"  requestId: 'req_rorriDUpAsQp5r',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_rorriDUpAsQp5r',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:33:25.572Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:25.573Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: exited"}}
[debug] [2024-07-12T01:33:25.573Z] [worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-85dca4fc-fd36-461a-a526-f2873cfafe02]: FINISHED"}}
[debug] [2024-07-12T01:33:57.321Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.321Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-07-12T01:33:57.321Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.321Z"],"workRunningCount":1}
[debug] [2024-07-12T01:33:57.321Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:33:57.324Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:33:57.324Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:33:57.324Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2024-07-12T01:33:57.324Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2024-07-12T01:33:57.325Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: BUSY"}}
[debug] [2024-07-12T01:33:57.326Z] [work-queue] {"queuedWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.326Z"],"queueLength":1,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.321Z"],"workRunningCount":1}
[debug] [2024-07-12T01:33:57.326Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.321Z","/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.326Z"],"workRunningCount":2}
[debug] [2024-07-12T01:33:57.326Z] Accepted request POST /clone-c002b/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2024-07-12T01:33:57.329Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-07-12T01:33:57.330Z] [functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-c002b/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2024-07-12T01:33:57.338Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2024-07-12T01:33:57.338Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[info] >  Payment request recieved for this amount >>> 0 {"user":"Payment request recieved for this amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request recieved for this amount >>> 0"}}
[info] >  C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10 {"user":"C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10\r"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                     ^ {"user":"                   ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents {"user":"StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents\r"}}
[info] >      at StripeError.generate (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\Error.js:10:20) {"user":"    at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\Error.js:10:20)\r"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\Users\wbagh\Desktop\personal-projects\learning-react\ecommerce\amazon-clone\functions\node_modules\stripe\cjs\RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (C:\\Users\\wbagh\\Desktop\\personal-projects\\learning-react\\ecommerce\\amazon-clone\\functions\\node_modules\\stripe\\cjs\\RequestSender.js:105:54)\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents', {"user":"    message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'The amount must be greater than or equal to the minimum charge amount allowed for your account and the currency set (https://docs.stripe.com/currencies#minimum-and-maximum-charge-amounts).  If you want to save a Payment Method for future use without an immediate payment, use a Setup Intent instead: https://docs.stripe.com/payments/setup-intents',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_QSMSq0LkZWfDrq?t=1720748038', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_QSMSq0LkZWfDrq?t=1720748038',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_QSMSq0LkZWfDrq?t=1720748038',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Fri, 12 Jul 2024 01:33:58 GMT', {"user":"      date: 'Fri, 12 Jul 2024 01:33:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Fri, 12 Jul 2024 01:33:58 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '663', {"user":"      'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '663',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >        'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"      'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >        'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18', {"user":"      'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18',\r"}}
[info] >        'original-request': 'req_QSMSq0LkZWfDrq', {"user":"      'original-request': 'req_QSMSq0LkZWfDrq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_QSMSq0LkZWfDrq',\r"}}
[info] >        'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"      'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >        'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"      'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >        'request-id': 'req_QSMSq0LkZWfDrq', {"user":"      'request-id': 'req_QSMSq0LkZWfDrq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_QSMSq0LkZWfDrq',\r"}}
[info] >        'stripe-version': '2024-06-20', {"user":"      'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2024-06-20',\r"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',\r"}}
[info] >        'x-content-type-options': 'nosniff', {"user":"      'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-content-type-options': 'nosniff',\r"}}
[info] >        'x-stripe-priority-routing-enabled': 'true', {"user":"      'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_QSMSq0LkZWfDrq' {"user":"    requestId: 'req_QSMSq0LkZWfDrq'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_QSMSq0LkZWfDrq'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Fri, 12 Jul 2024 01:33:58 GMT', {"user":"    date: 'Fri, 12 Jul 2024 01:33:58 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Fri, 12 Jul 2024 01:33:58 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '663', {"user":"    'content-length': '663',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '663',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'content-security-policy': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",\r"}}
[info] >      'cross-origin-opener-policy-report-only': 'same-origin; report-to="coop"', {"user":"    'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cross-origin-opener-policy-report-only': 'same-origin; report-to=\"coop\"',\r"}}
[info] >      'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18', {"user":"    'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-191d5d11-ce79-4896-8d87-ab9245f44b18',\r"}}
[info] >      'original-request': 'req_QSMSq0LkZWfDrq', {"user":"    'original-request': 'req_QSMSq0LkZWfDrq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_QSMSq0LkZWfDrq',\r"}}
[info] >      'report-to': '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report?s=payins-bapi-srv"}],"include_subdomains":true}', {"user":"    'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'report-to': '{\"group\":\"coop\",\"max_age\":8640,\"endpoints\":[{\"url\":\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"}],\"include_subdomains\":true}',\r"}}
[info] >      'reporting-endpoints': 'coop="https://q.stripe.com/coop-report?s=payins-bapi-srv"', {"user":"    'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'reporting-endpoints': 'coop=\"https://q.stripe.com/coop-report?s=payins-bapi-srv\"',\r"}}
[info] >      'request-id': 'req_QSMSq0LkZWfDrq', {"user":"    'request-id': 'req_QSMSq0LkZWfDrq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_QSMSq0LkZWfDrq',\r"}}
[info] >      'stripe-version': '2024-06-20', {"user":"    'stripe-version': '2024-06-20',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2024-06-20',\r"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',\r"}}
[info] >      'x-content-type-options': 'nosniff', {"user":"    'x-content-type-options': 'nosniff',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-content-type-options': 'nosniff',\r"}}
[info] >      'x-stripe-priority-routing-enabled': 'true', {"user":"    'x-stripe-priority-routing-enabled': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-priority-routing-enabled': 'true',\r"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',\r"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_QSMSq0LkZWfDrq', {"user":"  requestId: 'req_QSMSq0LkZWfDrq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_QSMSq0LkZWfDrq',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.13.1 {"user":"Node.js v20.13.1\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.13.1\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-07-12T01:33:57.585Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/clone-c002b/us-central1/api/payment/create-2024-07-12T01:33:57.326Z"],"workRunningCount":1}
[debug] [2024-07-12T01:33:57.586Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: exited"}}
[debug] [2024-07-12T01:33:57.586Z] [worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-134c7245-4fb5-4c0c-b8ef-9954629945ed]: FINISHED"}}
